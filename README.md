task

# BurnFit

ë²ˆí•€ ê³¼ì œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [í•µì‹¬ êµ¬í˜„ ë¡œì§](#í•µì‹¬-êµ¬í˜„-ë¡œì§)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ğŸ“… ì¸í„°ë™í‹°ë¸Œ ìº˜ë¦°ë”

#### ì›”ê°„/ì£¼ê°„ ë·° ì „í™˜

- **ìˆ˜ì§ ìŠ¤ì™€ì´í”„**ë¡œ ì›”ê°„ â†” ì£¼ê°„ ìº˜ë¦°ë” ì „í™˜
- ìœ„ë¡œ ìŠ¤ì™€ì´í”„: ì›”ê°„ â†’ ì£¼ê°„ (ì¶•ì†Œ)
- ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„: ì£¼ê°„ â†’ ì›”ê°„ (í™•ëŒ€)
- ì‹¤ì‹œê°„ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ë¶€ë“œëŸ¬ìš´ ì „í™˜

#### ì¢Œìš° ìŠ¤ì™€ì´í”„ ë„¤ë¹„ê²Œì´ì…˜

- **ìˆ˜í‰ ìŠ¤ì™€ì´í”„**ë¡œ ì´ì „/ë‹¤ìŒ ì›”(ì£¼) ì´ë™
- ì™¼ìª½ ìŠ¤ì™€ì´í”„: ë‹¤ìŒ ì›”/ì£¼
- ì˜¤ë¥¸ìª½ ìŠ¤ì™€ì´í”„: ì´ì „ ì›”/ì£¼
- í—¤ë” í™”ì‚´í‘œ ë²„íŠ¼ìœ¼ë¡œë„ ì´ë™ ê°€ëŠ¥

#### ë‚ ì§œ ì„ íƒ

- ë‚ ì§œ íƒ­ìœ¼ë¡œ ì„ íƒ
- ì„ íƒí•œ ë‚ ì§œë¡œ ìë™ ë·° ì´ë™
- ë‹¤ë¥¸ ë‹¬ì˜ ë‚ ì§œ ì„ íƒ ì‹œ í•´ë‹¹ ì›”ë¡œ ìë™ ì „í™˜
- ì„ íƒëœ ë‚ ì§œëŠ” íŒŒë€ìƒ‰ ì›ìœ¼ë¡œ í‘œì‹œ

#### ì• ë‹ˆë©”ì´ì…˜

- React Native Reanimated í™œìš©
- 60fps ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼
- Spring ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì›€ì§ì„
- UI ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ì–´ ì„±ëŠ¥ ìµœì í™”

### 2. ğŸ§­ ë„¤ë¹„ê²Œì´ì…˜

Bottom Tab Navigationìœ¼ë¡œ 4ê°œ í™”ë©´ êµ¬ì„±:

- **HOME**: í™ˆ í™”ë©´
- **CALENDAR**: ìº˜ë¦°ë” í™”ë©´ (ë©”ì¸ ê¸°ëŠ¥)
- **LIBRARY**: ìš´ë™ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **MY PAGE**: ë§ˆì´í˜ì´ì§€

---

## ê¸°ìˆ  ìŠ¤íƒ

| ì¹´í…Œê³ ë¦¬       | ê¸°ìˆ                                 | ì‚¬ìš© ëª©ì                        |
| -------------- | ----------------------------------- | ------------------------------- |
| **í”„ë ˆì„ì›Œí¬** | React Native 0.82.1                 | í¬ë¡œìŠ¤ í”Œë«í¼ ëª¨ë°”ì¼ ì•± ê°œë°œ    |
| **ì–¸ì–´**       | TypeScript 5.8.3                    | íƒ€ì… ì•ˆì •ì„± ë° ê°œë°œ ìƒì‚°ì„± í–¥ìƒ |
| **ë„¤ë¹„ê²Œì´ì…˜** | React Navigation 7.x                | í™”ë©´ ì „í™˜ ë° íƒ­ ë„¤ë¹„ê²Œì´ì…˜      |
| **ì• ë‹ˆë©”ì´ì…˜** | React Native Reanimated 4.1.3       | ê³ ì„±ëŠ¥ UI ìŠ¤ë ˆë“œ ì• ë‹ˆë©”ì´ì…˜     |
| **ì œìŠ¤ì²˜**     | React Native Gesture Handler 2.29.0 | í„°ì¹˜ ì œìŠ¤ì²˜ ì¸ì‹ ë° ì²˜ë¦¬        |
| **ì•„ì´ì½˜**     | React Native Vector Icons 10.3.0    | ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬               |

---

## í•µì‹¬ êµ¬í˜„ ë¡œì§

### 1. ìº˜ë¦°ë” ë¡œì§ (`useCalendarLogic.ts`)

#### ìƒíƒœ ê´€ë¦¬

```typescript
const [selectedDate, setSelectedDate] = useState<Date>(initialDate); // ì„ íƒëœ ë‚ ì§œ
const [viewMonth, setViewMonth] = useState<Date>(initialDate); // í˜„ì¬ ë³´ì´ëŠ” ì›”
const [mode, setMode] = useState<CalendarMode>('month'); // 'month' | 'week'
```

#### í•µì‹¬ í•¨ìˆ˜: `generateCalendarMatrix()`

**ëª©ì **: íŠ¹ì • ë…„/ì›”ì— ëŒ€í•œ 6ì£¼ x 7ì¼ ìº˜ë¦°ë” ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±

**ë‚ ì§œ ì¸ì½”ë”© ê·œì¹™** (ë‹¤ë¥¸ ë‹¬ ë‚ ì§œ êµ¬ë¶„ì„ ìœ„í•œ íŠ¹ìˆ˜ ì¸ì½”ë”©):

```typescript
// ì´ì „ ë‹¬ ë‚ ì§œ: ìŒìˆ˜ë¡œ í‘œí˜„
// ì˜ˆ: ì´ì „ ë‹¬ 30ì¼ â†’ -30, 31ì¼ â†’ -31

// í˜„ì¬ ë‹¬ ë‚ ì§œ: ê·¸ëŒ€ë¡œ í‘œí˜„
// ì˜ˆ: 1ì¼ â†’ 1, 15ì¼ â†’ 15, 31ì¼ â†’ 31

// ë‹¤ìŒ ë‹¬ ë‚ ì§œ: 100 + ë‚ ì§œë¡œ í‘œí˜„
// ì˜ˆ: ë‹¤ìŒ ë‹¬ 1ì¼ â†’ 101, 2ì¼ â†’ 102
```

**ì˜ˆì‹œ ì¶œë ¥** (2025ë…„ 10ì›”, ì¼ìš”ì¼ ì‹œì‘):

```typescript
[
  [-29, -30, -31, 1, 2, 3, 4], // 1ì£¼ì°¨: 9ì›” 29~31ì¼, 10ì›” 1~4ì¼
  [5, 6, 7, 8, 9, 10, 11], // 2ì£¼ì°¨: 10ì›” 5~11ì¼
  [12, 13, 14, 15, 16, 17, 18], // 3ì£¼ì°¨: 10ì›” 12~18ì¼
  [19, 20, 21, 22, 23, 24, 25], // 4ì£¼ì°¨: 10ì›” 19~25ì¼
  [26, 27, 28, 29, 30, 31, 101], // 5ì£¼ì°¨: 10ì›” 26~31ì¼, 11ì›” 1ì¼
  [102, 103, 104, 105, 106, 107, 108], // 6ì£¼ì°¨: 11ì›” 2~8ì¼
];
```

**êµ¬í˜„ ì½”ë“œ**:

```typescript
export const generateCalendarMatrix = (
  year: number,
  month: number,
): number[][] => {
  const firstDay = new Date(year, month, 1).getDay(); // 1ì¼ì˜ ìš”ì¼ (0=ì¼ìš”ì¼)
  const maxDays = getDaysInMonth(year, month); // í•´ë‹¹ ì›”ì˜ ì´ ì¼ìˆ˜
  const prevMonthDays = getDaysInMonth(year, month - 1); // ì´ì „ ë‹¬ì˜ ì´ ì¼ìˆ˜

  const totalCells = firstDay + maxDays;
  const weeksNeeded = Math.ceil(totalCells / 7); // í•„ìš”í•œ ì£¼ ìˆ˜ (ë³´í†µ 5~6ì£¼)

  const dateRows = Array.from({ length: weeksNeeded }, (_, rowIndex) => {
    return Array.from({ length: 7 }, (__, colIndex) => {
      const dayNumber = rowIndex * 7 + colIndex - firstDay + 1;

      if (dayNumber < 1) {
        // ì´ì „ ë‹¬ ë‚ ì§œ
        return -(prevMonthDays + dayNumber);
      }
      if (dayNumber > maxDays) {
        // ë‹¤ìŒ ë‹¬ ë‚ ì§œ
        return 100 + (dayNumber - maxDays);
      }
      // í˜„ì¬ ë‹¬ ë‚ ì§œ
      return dayNumber;
    });
  });

  return dateRows;
};
```

#### í•µì‹¬ í•¨ìˆ˜: `selectDate(day: number)`

**ëª©ì **: ë‚ ì§œ ì„ íƒ ì‹œ ì´ì „/í˜„ì¬/ë‹¤ìŒ ë‹¬ ìë™ ì „í™˜

```typescript
const selectDate = (day: number) => {
  const newDate = new Date(viewMonth);

  if (day < 0) {
    // ì´ì „ ë‹¬ ë‚ ì§œ ì„ íƒ
    newDate.setMonth(viewMonth.getMonth() - 1);
    newDate.setDate(-day); // ìŒìˆ˜ë¥¼ ì–‘ìˆ˜ë¡œ ë³€í™˜
  } else if (day > 100) {
    // ë‹¤ìŒ ë‹¬ ë‚ ì§œ ì„ íƒ
    newDate.setMonth(viewMonth.getMonth() + 1);
    newDate.setDate(day - 100); // 100ì„ ë¹¼ì„œ ì‹¤ì œ ë‚ ì§œ ì¶”ì¶œ
  } else {
    // í˜„ì¬ ë‹¬ ë‚ ì§œ ì„ íƒ
    newDate.setDate(day);
  }

  setSelectedDate(newDate);
  setViewMonth(newDate); // ë·°ë„ í•¨ê»˜ ì´ë™
};
```

#### ì›”/ì£¼ ë³€ê²½ í•¨ìˆ˜

```typescript
// ì›” ë³€ê²½ (í—¤ë” ë²„íŠ¼ ë˜ëŠ” ìŠ¤ì™€ì´í”„)
const changeMonth = (direction: number) => {
  const newDate = new Date(viewMonth);
  newDate.setMonth(viewMonth.getMonth() + direction); // +1 ë˜ëŠ” -1
  setViewMonth(newDate);
};

// ì£¼ ë³€ê²½ (í—¤ë” ë²„íŠ¼ ë˜ëŠ” ìŠ¤ì™€ì´í”„)
const changeWeek = (direction: number) => {
  const newDate = new Date(viewMonth);
  newDate.setDate(viewMonth.getDate() + direction * 7); // Â±7ì¼
  setViewMonth(newDate);
};
```

#### 3ê°œì˜ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„± (ìŠ¤ì™€ì´í”„ ì• ë‹ˆë©”ì´ì…˜ìš©)

```typescript
// ì´ì „ ë‹¬/ì£¼ ë§¤íŠ¸ë¦­ìŠ¤
const prevMatrix = useMemo(
  () =>
    mode === 'week'
      ? generateCalendarMatrix(
          prevWeekDate.getFullYear(),
          prevWeekDate.getMonth(),
        )
      : generateCalendarMatrix(
          prevMonthDate.getFullYear(),
          prevMonthDate.getMonth(),
        ),
  [mode, prevWeekDate, prevMonthDate],
);

// í˜„ì¬ ë‹¬/ì£¼ ë§¤íŠ¸ë¦­ìŠ¤
const currentMatrix = useMemo(
  () => generateCalendarMatrix(viewMonth.getFullYear(), viewMonth.getMonth()),
  [viewMonth],
);

// ë‹¤ìŒ ë‹¬/ì£¼ ë§¤íŠ¸ë¦­ìŠ¤
const nextMatrix = useMemo(
  () =>
    mode === 'week'
      ? generateCalendarMatrix(
          nextWeekDate.getFullYear(),
          nextWeekDate.getMonth(),
        )
      : generateCalendarMatrix(
          nextMonthDate.getFullYear(),
          nextMonthDate.getMonth(),
        ),
  [mode, nextWeekDate, nextMonthDate],
);
```

**ì™œ 3ê°œì˜ ë§¤íŠ¸ë¦­ìŠ¤ê°€ í•„ìš”í•œê°€?**

- ì¢Œìš° ìŠ¤ì™€ì´í”„ ì‹œ ì´ì „/í˜„ì¬/ë‹¤ìŒ ë‹¬ì„ ë™ì‹œì— ë Œë”ë§
- ì‚¬ìš©ìê°€ ìŠ¤ì™€ì´í”„í•˜ë©´ 3ê°œì˜ ìº˜ë¦°ë”ê°€ ìˆ˜í‰ìœ¼ë¡œ ë°°ì¹˜ë˜ì–´ ìŠ¬ë¼ì´ë“œ
- ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ë¥¼ ìœ„í•´ ë¯¸ë¦¬ ë Œë”ë§

---

### 2. ìº˜ë¦°ë” ì• ë‹ˆë©”ì´ì…˜ (`useCalendarAnimation.ts`)

#### ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœ ê°’

```typescript
const calendarHeight = useSharedValue(CALENDAR_HEIGHT_MONTH); // 300px â†” 60px
const dragProgress = useSharedValue(0); // 0: ì›”ê°„, 1: ì£¼ê°„
const translateX = useSharedValue(-width); // ì¢Œìš° ìŠ¤ì™€ì´í”„ ìœ„ì¹˜ (-width = ì¤‘ì•™)
```

**ìƒìˆ˜ ì •ì˜**:

```typescript
const CALENDAR_HEIGHT_MONTH = 300; // ì›”ê°„ ëª¨ë“œ ë†’ì´
const CALENDAR_HEIGHT_WEEK = 60; // ì£¼ê°„ ëª¨ë“œ ë†’ì´
const ROW_HEIGHT = 50; // ê° ì£¼(í–‰)ì˜ ë†’ì´
const SWIPE_THRESHOLD = 100; // ìŠ¤ì™€ì´í”„ ì¸ì‹ ì„ê³„ê°’ (px)
const VELOCITY_THRESHOLD = 800; // ë¹ ë¥¸ ìŠ¤ì™€ì´í”„ ì¸ì‹ ì„ê³„ê°’
```

#### ì œìŠ¤ì²˜ ì²˜ë¦¬ ë¡œì§

**1ë‹¨ê³„: ì œìŠ¤ì²˜ ë°©í–¥ íŒë‹¨**

```typescript
panGesture.onUpdate(event => {
  const { translationX, translationY } = event;

  // íƒ­ê³¼ì˜ ì¶©ëŒ ë°©ì§€ (10px ë¯¸ë§Œ ì›€ì§ì„ ë¬´ì‹œ)
  if (Math.abs(translationX) < 10 && Math.abs(translationY) < 10) {
    return;
  }

  // ìˆ˜ì§ vs ìˆ˜í‰ íŒë‹¨
  const isVertical = Math.abs(translationY) > Math.abs(translationX);

  if (isVertical) {
    // ìˆ˜ì§ ìŠ¤ì™€ì´í”„ â†’ ì›”/ì£¼ ì „í™˜
  } else {
    // ìˆ˜í‰ ìŠ¤ì™€ì´í”„ â†’ ì´ì „/ë‹¤ìŒ ì›”(ì£¼) ì´ë™
  }
});
```

**2ë‹¨ê³„: ìˆ˜ì§ ìŠ¤ì™€ì´í”„ (ì›” â†” ì£¼ ì „í™˜)**

```typescript
if (mode === 'month') {
  // ì›” â†’ ì£¼ (ìœ„ë¡œ ìŠ¤ì™€ì´í”„)
  const progress = Math.max(0, Math.min(1, -translationY / heightDiff));
  dragProgress.value = progress; // 0 â†’ 1
  calendarHeight.value = interpolate(
    progress,
    [0, 1],
    [CALENDAR_HEIGHT_MONTH, CALENDAR_HEIGHT_WEEK], // 300 â†’ 60
    Extrapolation.CLAMP,
  );
} else {
  // ì£¼ â†’ ì›” (ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„)
  const progress = Math.max(0, Math.min(1, translationY / heightDiff));
  dragProgress.value = 1 - progress; // 1 â†’ 0
  calendarHeight.value = interpolate(
    1 - progress,
    [0, 1],
    [CALENDAR_HEIGHT_MONTH, CALENDAR_HEIGHT_WEEK], // 60 â†’ 300
    Extrapolation.CLAMP,
  );
}
```

**3ë‹¨ê³„: ìˆ˜í‰ ìŠ¤ì™€ì´í”„ (ì›”/ì£¼ ë³€ê²½)**

```typescript
// ì‹¤ì‹œê°„ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
translateX.value = -width + translationX;

// ì œìŠ¤ì²˜ ì¢…ë£Œ ì‹œ íŒë‹¨
panGesture.onEnd(event => {
  const shouldChange =
    Math.abs(translationX) > SWIPE_THRESHOLD || // 100px ì´ìƒ ì´ë™
    Math.abs(velocityX) > VELOCITY_THRESHOLD; // ë¹ ë¥¸ ìŠ¤ì™€ì´í”„ (ì†ë„ 800 ì´ìƒ)

  if (shouldChange) {
    const direction = translationX < 0 ? 1 : -1; // ì™¼ìª½: ë‹¤ìŒ, ì˜¤ë¥¸ìª½: ì´ì „
    translateX.value = withTiming(-width * (1 + direction), { duration: 200 });

    // JS ìŠ¤ë ˆë“œì—ì„œ ìƒíƒœ ë³€ê²½
    if (mode === 'month') {
      scheduleOnRN(changeMonth, direction);
    } else {
      scheduleOnRN(changeWeek, direction);
    }
  } else {
    // ì„ê³„ê°’ ë¯¸ë‹¬ â†’ ì œìë¦¬ë¡œ ë³µê·€
    translateX.value = withSpring(-width, { damping: 20, stiffness: 90 });
  }
});
```

#### í–‰ë³„ ì• ë‹ˆë©”ì´ì…˜ (ì£¼ê°„ ëª¨ë“œ)

**ëª©ì **: ì„ íƒëœ ì£¼ë§Œ í‘œì‹œí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ìˆ¨ê¹€

```typescript
const useAnimatedRowStyle = (rowIndex, selectedWeekIndex, dragProgress) => {
  return useAnimatedStyle(() => {
    if (rowIndex === selectedWeekIndex) {
      // ì„ íƒëœ ì£¼ëŠ” í•­ìƒ í‘œì‹œ
      return { height: ROW_HEIGHT, opacity: 1, overflow: 'hidden' };
    }

    // ë‚˜ë¨¸ì§€ ì£¼ëŠ” dragProgressì— ë”°ë¼ ë†’ì´/íˆ¬ëª…ë„ ì¡°ì ˆ
    const rowHeight = interpolate(
      dragProgress.value,
      [0, 1], // ì›”ê°„ â†’ ì£¼ê°„
      [ROW_HEIGHT, 0], // 50px â†’ 0px
      Extrapolation.CLAMP,
    );

    const opacity = interpolate(
      dragProgress.value,
      [0, 0.5, 1], // ì›”ê°„ â†’ ì¤‘ê°„ â†’ ì£¼ê°„
      [1, 0.5, 0], // ì™„ì „ í‘œì‹œ â†’ ë°˜íˆ¬ëª… â†’ ìˆ¨ê¹€
      Extrapolation.CLAMP,
    );

    return { height: rowHeight, opacity, overflow: 'hidden' };
  }, [selectedWeekIndex]);
};
```

**6ê°œ í–‰ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ ìƒì„±**:

```typescript
const row0Style = useAnimatedRowStyle(0, selectedWeekIndex, dragProgress);
const row1Style = useAnimatedRowStyle(1, selectedWeekIndex, dragProgress);
const row2Style = useAnimatedRowStyle(2, selectedWeekIndex, dragProgress);
const row3Style = useAnimatedRowStyle(3, selectedWeekIndex, dragProgress);
const row4Style = useAnimatedRowStyle(4, selectedWeekIndex, dragProgress);
const row5Style = useAnimatedRowStyle(5, selectedWeekIndex, dragProgress);

const rowStyles = [
  row0Style,
  row1Style,
  row2Style,
  row3Style,
  row4Style,
  row5Style,
];
```

#### ì• ë‹ˆë©”ì´ì…˜ íë¦„ë„

```
ì‚¬ìš©ì ì œìŠ¤ì²˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°©í–¥ íŒë‹¨           â”‚
â”‚ (ìˆ˜ì§ vs ìˆ˜í‰)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“           â†“
[ìˆ˜ì§]        [ìˆ˜í‰]
    â†“           â†“
ì›”â†”ì£¼ ì „í™˜   ì›”/ì£¼ ë³€ê²½
    â†“           â†“
ë†’ì´ ì¡°ì ˆ    ì¢Œìš° ì´ë™
íˆ¬ëª…ë„ ì¡°ì ˆ   (translateX)
(dragProgress)
    â†“           â†“
Spring       Timing
ì• ë‹ˆë©”ì´ì…˜    ì• ë‹ˆë©”ì´ì…˜
```

---

### 3. ë‚ ì§œ í—¬í¼ í•¨ìˆ˜

#### `checkIsSelectedDay()` - ì„ íƒëœ ë‚ ì§œ í™•ì¸

```typescript
export const checkIsSelectedDay = (
  day: number,
  viewMonth: Date,
  selectedDate: Date,
): boolean => {
  if (day < 0) {
    // ì´ì „ ë‹¬ ë‚ ì§œ
    const prevMonth = new Date(viewMonth);
    prevMonth.setMonth(viewMonth.getMonth() - 1);
    return (
      -day === selectedDate.getDate() &&
      prevMonth.getMonth() === selectedDate.getMonth() &&
      prevMonth.getFullYear() === selectedDate.getFullYear()
    );
  }

  if (day > 100) {
    // ë‹¤ìŒ ë‹¬ ë‚ ì§œ
    const nextMonth = new Date(viewMonth);
    nextMonth.setMonth(viewMonth.getMonth() + 1);
    return (
      day - 100 === selectedDate.getDate() &&
      nextMonth.getMonth() === selectedDate.getMonth() &&
      nextMonth.getFullYear() === selectedDate.getFullYear()
    );
  }

  // í˜„ì¬ ë‹¬ ë‚ ì§œ
  return (
    day === selectedDate.getDate() &&
    viewMonth.getMonth() === selectedDate.getMonth() &&
    viewMonth.getFullYear() === selectedDate.getFullYear()
  );
};
```

#### `getDisplayDay()` - í™”ë©´ì— í‘œì‹œí•  ë‚ ì§œ ì¶”ì¶œ

```typescript
export const getDisplayDay = (day: number | string): number | string => {
  if (typeof day !== 'number') return day;
  if (day < 0) return -day; // -30 â†’ 30
  if (day > 100) return day - 100; // 101 â†’ 1
  return day; // 15 â†’ 15
};
```

#### `getDaysInMonth()` - íŠ¹ì • ì›”ì˜ ì¼ìˆ˜ ê³„ì‚°

```typescript
export const getDaysInMonth = (year: number, month: number): number => {
  return new Date(year, month + 1, 0).getDate();
};

// ì˜ˆì‹œ:
// getDaysInMonth(2025, 0)  â†’ 31 (1ì›”)
// getDaysInMonth(2025, 1)  â†’ 28 (2ì›”, í‰ë…„)
// getDaysInMonth(2024, 1)  â†’ 29 (2ì›”, ìœ¤ë…„)
```

#### `formatMonthYear()` - í—¤ë” í…ìŠ¤íŠ¸ í¬ë§·íŒ…

```typescript
export const formatMonthYear = (date: Date): string => {
  return date.toLocaleString('en-US', {
    month: 'long',
    year: 'numeric',
  });
};

// ì˜ˆì‹œ:
// formatMonthYear(new Date(2025, 9, 15)) â†’ "October 2025"
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
burnfit/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ calendar/
â”‚   â”‚       â”œâ”€â”€ Calendar.tsx              # ë©”ì¸ ìº˜ë¦°ë” ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ CalendarItem.tsx          # ìº˜ë¦°ë” í–‰ (ì£¼) ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â””â”€â”€ calendar.style.ts         # ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ ì •ì˜
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ colors.ts                     # ìƒ‰ìƒ ìƒìˆ˜
â”‚   â”‚   â””â”€â”€ date.ts                       # ìš”ì¼ ìƒìˆ˜ (ì¼ìš”ì¼ ì‹œì‘)
â”‚   â”‚
â”‚   â”œâ”€â”€ helpers/
â”‚   â”‚   â””â”€â”€ calendar.ts                   # ìº˜ë¦°ë” í—¬í¼ í•¨ìˆ˜
â”‚   â”‚                                     # - generateCalendarMatrix()
â”‚   â”‚                                     # - checkIsSelectedDay()
â”‚   â”‚                                     # - isOtherMonthDay()
â”‚   â”‚                                     # - getDisplayDay()
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ calendar/
â”‚   â”‚       â”œâ”€â”€ useCalendarLogic.ts       # ìº˜ë¦°ë” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚       â”‚                             # - ìƒíƒœ ê´€ë¦¬ (mode, viewMonth, selectedDate)
â”‚   â”‚       â”‚                             # - ë‚ ì§œ ì„ íƒ/ë³€ê²½ í•¨ìˆ˜
â”‚   â”‚       â”‚                             # - 3ê°œ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ useCalendarAnimation.ts   # ìº˜ë¦°ë” ì• ë‹ˆë©”ì´ì…˜ ë¡œì§
â”‚   â”‚                                     # - ì œìŠ¤ì²˜ ì²˜ë¦¬ (ìˆ˜ì§/ìˆ˜í‰)
â”‚   â”‚                                     # - ì• ë‹ˆë©”ì´ì…˜ ê°’ ê´€ë¦¬
â”‚   â”‚                                     # - í–‰ë³„ ì• ë‹ˆë©”ì´ì…˜
â”‚   â”‚
â”‚   â”œâ”€â”€ navigations/
â”‚   â”‚   â””â”€â”€ BottomTabNavigations.tsx      # í•˜ë‹¨ íƒ­ ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â””â”€â”€ HomeScreen.tsx            # í™ˆ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â”‚   â””â”€â”€ CalendarScreen.tsx        # ìº˜ë¦°ë” í™”ë©´ (ë©”ì¸)
â”‚   â”‚   â”œâ”€â”€ library/
â”‚   â”‚   â”‚   â””â”€â”€ LibraryScreen.tsx         # ë¼ì´ë¸ŒëŸ¬ë¦¬ í™”ë©´
â”‚   â”‚   â””â”€â”€ myPage/
â”‚   â”‚       â””â”€â”€ MyPageScreen.tsx          # ë§ˆì´í˜ì´ì§€
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ date.ts                       # ë‚ ì§œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚                                         # - getDaysInMonth()
â”‚                                         # - formatMonthYear()
â”‚                                         # - checkIsToday()
â”‚
â”œâ”€â”€ App.tsx                               # ì•± ì§„ì…ì 
â”œâ”€â”€ package.json                          # ì˜ì¡´ì„± ê´€ë¦¬
â””â”€â”€ README.md                             # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### ì£¼ìš” íŒŒì¼ ì„¤ëª…

#### `useCalendarLogic.ts` (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)

- ìº˜ë¦°ë”ì˜ ëª¨ë“  ìƒíƒœ ê´€ë¦¬ (mode, viewMonth, selectedDate)
- ë‚ ì§œ ì„ íƒ, ì›”/ì£¼ ë³€ê²½ ë¡œì§
- 3ê°œì˜ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„± (ì´ì „/í˜„ì¬/ë‹¤ìŒ)
- ì„ íƒëœ ì£¼ì˜ ì¸ë±ìŠ¤ ê³„ì‚°

#### `useCalendarAnimation.ts` (ì• ë‹ˆë©”ì´ì…˜)

- ì œìŠ¤ì²˜ ì¸ì‹ ë° ì²˜ë¦¬ (Pan Gesture)
- UI ìŠ¤ë ˆë“œ ì• ë‹ˆë©”ì´ì…˜ (Reanimated)
- ì›”/ì£¼ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
- ì¢Œìš° ìŠ¤ì™€ì´í”„ ì• ë‹ˆë©”ì´ì…˜
- 6ê°œ í–‰ì— ëŒ€í•œ ê°œë³„ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼

#### `Calendar.tsx` (UI ì»´í¬ë„ŒíŠ¸)

- ë¡œì§ê³¼ ì• ë‹ˆë©”ì´ì…˜ í›… í†µí•©
- í—¤ë” (ì›”/ë…„ í‘œì‹œ, ì´ì „/ë‹¤ìŒ ë²„íŠ¼)
- ìš”ì¼ í—¤ë” (ì¼~í† )
- ë‚ ì§œ ê·¸ë¦¬ë“œ ë Œë”ë§
- ì œìŠ¤ì²˜ ë””í…í„° ì ìš©

#### `CalendarItem.tsx` (í–‰ ì»´í¬ë„ŒíŠ¸)

- ê° ì£¼(í–‰)ë¥¼ ë Œë”ë§
- ë‚ ì§œ ì„ íƒ ì²˜ë¦¬
- ì„ íƒëœ ë‚ ì§œ ìŠ¤íƒ€ì¼ë§
- ë‹¤ë¥¸ ë‹¬ ë‚ ì§œ ìŠ¤íƒ€ì¼ë§ (íšŒìƒ‰)
- React.memoë¡œ ìµœì í™”

#### `calendar.ts` (í—¬í¼ í•¨ìˆ˜)

- ìº˜ë¦°ë” ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±
- ë‚ ì§œ ì¸ì½”ë”©/ë””ì½”ë”©
- ì„ íƒëœ ë‚ ì§œ í™•ì¸
- ë‹¤ë¥¸ ë‹¬ ë‚ ì§œ í™•ì¸

---

## ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Node.js** >= 20
- **React Native ê°œë°œ í™˜ê²½** ì„¤ì • ì™„ë£Œ
  - iOS: Xcode ë° CocoaPods
  - Android: Android Studio ë° SDK

### ì„¤ì¹˜

```sh
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. iOS ì˜ì¡´ì„± ì„¤ì¹˜ (Macë§Œ í•´ë‹¹)
cd ios
bundle install
bundle exec pod install
cd ..
```

### ì‹¤í–‰

```sh
# Metro ì„œë²„ ì‹œì‘
npm start

# Android ì‹¤í–‰ (ìƒˆ í„°ë¯¸ë„)
npm run android

# iOS ì‹¤í–‰ (ìƒˆ í„°ë¯¸ë„, Macë§Œ í•´ë‹¹)
npm run ios
```

### í…ŒìŠ¤íŠ¸

```sh
npm test
```

---

## ì„±ëŠ¥ ìµœì í™”

### 1. React.memo ì‚¬ìš©

```typescript
// CalendarItem.tsx
export const CalendarItem = React.memo(({ ... }) => {
  // ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
  // propsê°€ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ìŠ¤í‚µ
});
```

### 2. useMemoë¡œ ê³„ì‚° ìºì‹±

```typescript
// ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±ì€ ë¹„ìš©ì´ í° ì‘ì—…ì´ë¯€ë¡œ ìºì‹±
const currentMatrix = useMemo(
  () => generateCalendarMatrix(viewMonth.getFullYear(), viewMonth.getMonth()),
  [viewMonth], // viewMonthê°€ ë³€ê²½ë  ë•Œë§Œ ì¬ê³„ì‚°
);
```

### 3. useCallbackìœ¼ë¡œ í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜

```typescript
// í•¨ìˆ˜ ì¬ìƒì„± ë°©ì§€
const changeMonth = useCallback(
  (direction: number) => {
    const newDate = new Date(viewMonth);
    newDate.setMonth(viewMonth.getMonth() + direction);
    setViewMonth(newDate);
  },
  [viewMonth], // viewMonthê°€ ë³€ê²½ë  ë•Œë§Œ í•¨ìˆ˜ ì¬ìƒì„±
);
```

### 4. UI ìŠ¤ë ˆë“œ ì• ë‹ˆë©”ì´ì…˜

```typescript
// Reanimatedì˜ useSharedValueì™€ useAnimatedStyle ì‚¬ìš©
// JS ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ì—†ì´ 60fps ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„
const calendarHeight = useSharedValue(300);

const animatedStyle = useAnimatedStyle(() => {
  return {
    height: calendarHeight.value, // UI ìŠ¤ë ˆë“œì—ì„œ ì§ì ‘ ì‹¤í–‰
  };
});
```

### 5. scheduleOnRNìœ¼ë¡œ ìŠ¤ë ˆë“œ ë¶„ë¦¬

```typescript
// UI ìŠ¤ë ˆë“œì—ì„œ JS ìŠ¤ë ˆë“œë¡œ ì‘ì—… ì „ë‹¬
scheduleOnRN(changeMonth, direction);
// ì• ë‹ˆë©”ì´ì…˜ì€ UI ìŠ¤ë ˆë“œì—ì„œ, ìƒíƒœ ë³€ê²½ì€ JS ìŠ¤ë ˆë“œì—ì„œ
```

---


## ë¬¸ì œ í•´ê²° (Troubleshooting)

### iOS ë¹Œë“œ ì‹¤íŒ¨

```sh
# CocoaPods ì¬ì„¤ì¹˜
cd ios
pod deintegrate
pod install
cd ..
npm run ios
```

### Metro ìºì‹œ ë¬¸ì œ

```sh
# Metro ìºì‹œ ì´ˆê¸°í™”
npm start -- --reset-cache
```

### Android ë¹Œë“œ ì‹¤íŒ¨

```sh
# Gradle ìºì‹œ ì •ë¦¬
cd android
./gradlew clean
cd ..
npm run android
```

### ì œìŠ¤ì²˜ê°€ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œ

```sh
# react-native-gesture-handler ì¬ì„¤ì¹˜
npm install react-native-gesture-handler
cd ios && pod install && cd ..
```

### ì• ë‹ˆë©”ì´ì…˜ì´ ëŠê¸¸ ë•Œ

- Reanimated ì„¤ì • í™•ì¸: `babel.config.js`ì— í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€ í•„ìš”

```javascript
module.exports = {
  presets: ['module:@react-native/babel-preset'],
  plugins: ['react-native-reanimated/plugin'], // ì´ ì¤„ í™•ì¸
};
```

---

## êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

### ìº˜ë¦°ë” ë Œë”ë§ êµ¬ì¡°

```
Calendar (ë©”ì¸ ì»´í¬ë„ŒíŠ¸)
  â”œâ”€â”€ Header (í—¤ë”)
  â”‚   â”œâ”€â”€ ì´ì „ ë²„íŠ¼
  â”‚   â”œâ”€â”€ "October 2025" (ì›”/ë…„ í‘œì‹œ)
  â”‚   â””â”€â”€ ë‹¤ìŒ ë²„íŠ¼
  â”‚
  â”œâ”€â”€ Week Header (ìš”ì¼ í—¤ë”)
  â”‚   â””â”€â”€ Sun, Mon, Tue, Wed, Thu, Fri, Sat
  â”‚
  â””â”€â”€ GestureDetector (ì œìŠ¤ì²˜ ê°ì§€)
      â””â”€â”€ Animated.View (ì• ë‹ˆë©”ì´ì…˜ ì»¨í…Œì´ë„ˆ)
          â””â”€â”€ Animated.View (ì¢Œìš° ìŠ¤ì™€ì´í”„ ë˜í¼)
              â”œâ”€â”€ ì´ì „ ë‹¬/ì£¼ (ì™¼ìª½)
              â”‚   â””â”€â”€ CalendarItem Ã— 6 (6ì£¼)
              â”‚
              â”œâ”€â”€ í˜„ì¬ ë‹¬/ì£¼ (ì¤‘ì•™)
              â”‚   â””â”€â”€ CalendarItem Ã— 6 (6ì£¼)
              â”‚
              â””â”€â”€ ë‹¤ìŒ ë‹¬/ì£¼ (ì˜¤ë¥¸ìª½)
                  â””â”€â”€ CalendarItem Ã— 6 (6ì£¼)
```
